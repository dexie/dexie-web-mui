1:"$Sreact.fragment"
3:I[52669,["/_next/static/chunks/5a665d09998d4862.js","/_next/static/chunks/5dd0231c54ee754c.js","/_next/static/chunks/8f22b4bf63a49712.js","/_next/static/chunks/68e80996639386d6.js","/_next/static/chunks/ff5f09f4edae29eb.js"],"default"]
4:I[17350,["/_next/static/chunks/5a665d09998d4862.js","/_next/static/chunks/5dd0231c54ee754c.js","/_next/static/chunks/8f22b4bf63a49712.js","/_next/static/chunks/68e80996639386d6.js","/_next/static/chunks/ff5f09f4edae29eb.js"],"default"]
5:I[11054,["/_next/static/chunks/5a665d09998d4862.js","/_next/static/chunks/5dd0231c54ee754c.js","/_next/static/chunks/8f22b4bf63a49712.js","/_next/static/chunks/68e80996639386d6.js","/_next/static/chunks/ff5f09f4edae29eb.js"],"default"]
6:I[53675,["/_next/static/chunks/5a665d09998d4862.js","/_next/static/chunks/5dd0231c54ee754c.js","/_next/static/chunks/8f22b4bf63a49712.js","/_next/static/chunks/68e80996639386d6.js","/_next/static/chunks/ff5f09f4edae29eb.js"],"default"]
7:I[45678,["/_next/static/chunks/5a665d09998d4862.js","/_next/static/chunks/5dd0231c54ee754c.js","/_next/static/chunks/8f22b4bf63a49712.js","/_next/static/chunks/68e80996639386d6.js","/_next/static/chunks/ff5f09f4edae29eb.js"],"default"]
8:I[39756,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/7dd66bdf8a7e5707.js"],"default"]
9:I[37457,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/7dd66bdf8a7e5707.js"],"default"]
10:I[68027,["/_next/static/chunks/5a665d09998d4862.js","/_next/static/chunks/5dd0231c54ee754c.js","/_next/static/chunks/8f22b4bf63a49712.js","/_next/static/chunks/68e80996639386d6.js","/_next/static/chunks/ff5f09f4edae29eb.js"],"default"]
:HL["/_next/static/chunks/181ad6fb1547b71a.css","style"]
:HL["/_next/static/media/797e433ab948586e-s.p.dbea232f.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/media/caa3a2e1cccd8315-s.p.853070df.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/media/ce62453a442c7f35-s.p.a9507876.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
2:T60b,{"@context":"https://schema.org","@type":"SoftwareApplication","name":"Dexie.js","description":"IndexedDB wrapper library for offline-first web applications with real-time sync capabilities","url":"https://dexie.org","applicationCategory":"DeveloperApplication","operatingSystem":"Web Browser","programmingLanguage":"JavaScript","author":{"@type":"Person","name":"David Fahlander","url":"https://github.com/dfahlander"},"publisher":{"@type":"Organization","name":"Awarica AB","address":{"@type":"PostalAddress","addressCountry":"SE","addressLocality":"Stockholm"}},"softwareVersion":"4.0","downloadUrl":"https://www.npmjs.com/package/dexie","license":"https://github.com/dexie/Dexie.js/blob/master/LICENSE","codeRepository":"https://github.com/dexie/Dexie.js","installUrl":"https://www.npmjs.com/package/dexie","screenshot":"https://dexie.org/assets/images/dexie-hero-og.jpg","offers":[{"@type":"Offer","name":"Dexie.js Open Source","price":"0","priceCurrency":"USD","description":"Free IndexedDB wrapper library"},{"@type":"Offer","name":"Dexie Cloud Free","price":"0","priceCurrency":"USD","description":"Free tier with 3 production users and 100MB storage"},{"@type":"Offer","name":"Dexie Cloud Production","price":"0.12","priceCurrency":"USD","description":"Production tier starting at $0.12 per user per month"}],"featureList":["Offline-first database","IndexedDB wrapper","Real-time synchronization","Authentication system","Collaborative features","React integration","Vue.js support","Angular compatibility","Progressive Web App support"]}0:{"P":null,"b":"_DLZGMyVmlPWiqBxqcxG-","p":"","c":["","docs","Dexie","Dexie.transaction()"],"i":false,"f":[[["",{"children":["docs",{"children":[["slug","Dexie/Dexie.transaction()","c"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/chunks/181ad6fb1547b71a.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","script","script-0",{"src":"/_next/static/chunks/5a665d09998d4862.js","async":true,"nonce":"$undefined"}],["$","script","script-1",{"src":"/_next/static/chunks/5dd0231c54ee754c.js","async":true,"nonce":"$undefined"}],["$","script","script-2",{"src":"/_next/static/chunks/8f22b4bf63a49712.js","async":true,"nonce":"$undefined"}],["$","script","script-3",{"src":"/_next/static/chunks/68e80996639386d6.js","async":true,"nonce":"$undefined"}],["$","script","script-4",{"src":"/_next/static/chunks/ff5f09f4edae29eb.js","async":true,"nonce":"$undefined"}]],["$","html",null,{"lang":"en","className":"roboto_d24be3b7-module__pZO6tq__variable","children":[["$","head",null,{"children":["$","script",null,{"type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"$2"}}]}],["$","body",null,{"className":"geist_a71539c9-module__T19VSG__variable geist_mono_8d43a2aa-module__8Li5zG__variable","children":["$","$L3",null,{"children":["$","$L4",null,{"theme":"$5","children":[["$","$L6",null,{}],["$","$L7",null,{}],["$","$L8",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],"$La"]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}],"$Lb"]}]}]}]]}]]}],{"children":["docs","$Lc",{"children":[["slug","Dexie/Dexie.transaction()","c"],"$Ld",{"children":["__PAGE__","$Le",{},null,false]},null,false]},null,false]},null,false],"$Lf",false]],"m":"$undefined","G":["$10",["$L11"]],"s":false,"S":true}
12:I[13642,["/_next/static/chunks/5a665d09998d4862.js","/_next/static/chunks/5dd0231c54ee754c.js","/_next/static/chunks/8f22b4bf63a49712.js","/_next/static/chunks/68e80996639386d6.js","/_next/static/chunks/ff5f09f4edae29eb.js"],"default"]
14:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/7dd66bdf8a7e5707.js"],"OutletBoundary"]
16:I[11533,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/7dd66bdf8a7e5707.js"],"AsyncMetadataOutlet"]
18:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/7dd66bdf8a7e5707.js"],"ViewportBoundary"]
1a:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/7dd66bdf8a7e5707.js"],"MetadataBoundary"]
1b:"$Sreact.suspense"
a:["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]
b:["$","$L12",null,{}]
c:["$","$1","c",{"children":[null,["$","$L8",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}]
d:["$","$1","c",{"children":[null,["$","$L8",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}]
e:["$","$1","c",{"children":["$L13",[["$","script","script-0",{"src":"/_next/static/chunks/067210b58f941f94.js","async":true,"nonce":"$undefined"}],["$","script","script-1",{"src":"/_next/static/chunks/468ad4deeea646ae.js","async":true,"nonce":"$undefined"}]],["$","$L14",null,{"children":["$L15",["$","$L16",null,{"promise":"$@17"}]]}]]}]
f:["$","$1","h",{"children":[null,[["$","$L18",null,{"children":"$L19"}],["$","meta",null,{"name":"next-size-adjust","content":""}]],["$","$L1a",null,{"children":["$","div",null,{"hidden":true,"children":["$","$1b",null,{"fallback":null,"children":"$L1c"}]}]}]]}]
11:["$","link","0",{"rel":"stylesheet","href":"/_next/static/chunks/181ad6fb1547b71a.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]
1d:I[99748,["/_next/static/chunks/5a665d09998d4862.js","/_next/static/chunks/5dd0231c54ee754c.js","/_next/static/chunks/8f22b4bf63a49712.js","/_next/static/chunks/68e80996639386d6.js","/_next/static/chunks/ff5f09f4edae29eb.js","/_next/static/chunks/067210b58f941f94.js","/_next/static/chunks/468ad4deeea646ae.js"],"default"]
13:["$","$L1d",null,{"navigation":{"API-Reference":{"title":"API Reference","slug":"API-Reference","layout":"docs"},"Collection":{"Collection.and()":{"title":"Collection.and()","slug":"Collection/Collection.and()","layout":"docs"},"Collection.clone()":{"title":"Collection.clone()","slug":"Collection/Collection.clone()","layout":"docs"},"Collection.count()":{"title":"Collection.count()","slug":"Collection/Collection.count()","layout":"docs"},"Collection.delete()":{"title":"Collection.delete()","slug":"Collection/Collection.delete()","layout":"docs"},"Collection.desc()":{"title":"Collection.desc()","slug":"Collection/Collection.desc()","layout":"docs"},"Collection.distinct()":{"title":"Collection.distinct()","slug":"Collection/Collection.distinct()","layout":"docs"},"Collection.each()":{"title":"Collection.each()","slug":"Collection/Collection.each()","layout":"docs"},"Collection.eachKey()":{"title":"Collection.eachKey()","slug":"Collection/Collection.eachKey()","layout":"docs"},"Collection.eachPrimaryKey()":{"title":"Collection.eachPrimaryKey()","slug":"Collection/Collection.eachPrimaryKey()","layout":"docs"},"Collection.eachUniqueKey()":{"title":"Collection.eachUniqueKey()","slug":"Collection/Collection.eachUniqueKey()","layout":"docs"},"Collection.filter()":{"title":"Collection.filter()","slug":"Collection/Collection.filter()","layout":"docs"},"Collection.first()":{"title":"Collection.first()","slug":"Collection/Collection.first()","layout":"docs"},"Collection.keys()":{"title":"Collection.keys()","slug":"Collection/Collection.keys()","layout":"docs"},"Collection.last()":{"title":"Collection.last()","slug":"Collection/Collection.last()","layout":"docs"},"Collection.limit()":{"title":"Collection.limit()","slug":"Collection/Collection.limit()","layout":"docs"},"Collection":{"title":"Collection","slug":"Collection/Collection","layout":"docs"},"Collection.modify()":{"title":"Collection.modify()","slug":"Collection/Collection.modify()","layout":"docs"},"Collection.offset()":{"title":"Collection.offset()","slug":"Collection/Collection.offset()","layout":"docs"},"Collection.or()":{"title":"Collection.or()","slug":"Collection/Collection.or()","layout":"docs"},"Collection.primaryKeys()":{"title":"Collection.primaryKeys()","slug":"Collection/Collection.primaryKeys()","layout":"docs"},"Collection.raw()":{"title":"Collection.raw()","slug":"Collection/Collection.raw()","layout":"docs"},"Collection.reverse()":{"title":"Collection.reverse()","slug":"Collection/Collection.reverse()","layout":"docs"},"Collection.sortBy()":{"title":"Collection.sortBy()","slug":"Collection/Collection.sortBy()","layout":"docs"},"Collection.toArray()":{"title":"Collection.toArray()","slug":"Collection/Collection.toArray()","layout":"docs"},"Collection.uniqueKeys()":{"title":"Collection.uniqueKeys()","slug":"Collection/Collection.uniqueKeys()","layout":"docs"},"Collection.until()":{"title":"Collection.until()","slug":"Collection/Collection.until()","layout":"docs"}},"Compound-Index":{"title":"Compound Index","slug":"Compound-Index","layout":"docs"},"DBCore":{"DBCore":{"title":"DBCore","slug":"DBCore/DBCore","layout":"docs"},"DBCoreAddRequest":{"title":"DBCoreAddRequest","slug":"DBCore/DBCoreAddRequest","layout":"docs"},"DBCoreCountRequest":{"title":"DBCoreCountRequest","slug":"DBCore/DBCoreCountRequest","layout":"docs"},"DBCoreCursor":{"title":"DBCoreCursor","slug":"DBCore/DBCoreCursor","layout":"docs"},"DBCoreDeleteRangeRequest":{"title":"DBCoreDeleteRangeRequest","slug":"DBCore/DBCoreDeleteRangeRequest","layout":"docs"},"DBCoreDeleteRequest":{"title":"DBCoreDeleteRequest","slug":"DBCore/DBCoreDeleteRequest","layout":"docs"},"DBCoreGetManyRequest":{"title":"DBCoreGetManyRequest","slug":"DBCore/DBCoreGetManyRequest","layout":"docs"},"DBCoreGetRequest":{"title":"DBCoreGetRequest","slug":"DBCore/DBCoreGetRequest","layout":"docs"},"DBCoreIndex":{"title":"DBCoreIndex","slug":"DBCore/DBCoreIndex","layout":"docs"},"DBCoreKeyRange":{"title":"DBCoreKeyRange","slug":"DBCore/DBCoreKeyRange","layout":"docs"},"DBCoreMutateRequest":{"title":"DBCoreMutateRequest","slug":"DBCore/DBCoreMutateRequest","layout":"docs"},"DBCoreMutateResponse":{"title":"DBCoreMutateResponse","slug":"DBCore/DBCoreMutateResponse","layout":"docs"},"DBCoreOpenCursorRequest":{"title":"DBCoreOpenCursorRequest","slug":"DBCore/DBCoreOpenCursorRequest","layout":"docs"},"DBCorePutRequest":{"title":"DBCorePutRequest","slug":"DBCore/DBCorePutRequest","layout":"docs"},"DBCoreQuery":{"title":"DBCoreQuery","slug":"DBCore/DBCoreQuery","layout":"docs"},"DBCoreQueryRequest":{"title":"DBCoreQueryRequest","slug":"DBCore/DBCoreQueryRequest","layout":"docs"},"DBCoreQueryResponse":{"title":"DBCoreQueryResponse","slug":"DBCore/DBCoreQueryResponse","layout":"docs"},"DBCoreRangeType":{"title":"DBCoreRangeType","slug":"DBCore/DBCoreRangeType","layout":"docs"},"DBCoreSchema":{"title":"DBCoreSchema","slug":"DBCore/DBCoreSchema","layout":"docs"},"DBCoreTable":{"title":"DBCoreTable","slug":"DBCore/DBCoreTable","layout":"docs"},"DBCoreTableSchema":{"title":"DBCoreTableSchema","slug":"DBCore/DBCoreTableSchema","layout":"docs"},"DBCoreTransaction":{"title":"DBCoreTransaction","slug":"DBCore/DBCoreTransaction","layout":"docs"},"DBCoreTransactionMode":{"title":"DBCoreTransactionMode","slug":"DBCore/DBCoreTransactionMode","layout":"docs"}},"Deprecations":{"title":"Deprecations","slug":"Deprecations","layout":"docs"},"DerivedWork":{"title":"Derived Work","slug":"DerivedWork","layout":"docs"},"Dexie":{"Dexie.[table]":{"title":"Dexie.[table]","slug":"Dexie/Dexie.[table]","layout":"docs"},"Dexie.addons":{"title":"Dexie.addons","slug":"Dexie/Dexie.addons","layout":"docs"},"Dexie.async()":{"title":"Dexie.async()","slug":"Dexie/Dexie.async()","layout":"docs"},"Dexie.backendDB()":{"title":"Dexie.backendDB()","slug":"Dexie/Dexie.backendDB()","layout":"docs"},"Dexie.close()":{"title":"Dexie.close()","slug":"Dexie/Dexie.close()","layout":"docs"},"Dexie.currentTransaction":{"title":"Dexie.currentTransaction","slug":"Dexie/Dexie.currentTransaction","layout":"docs"},"Dexie.debug":{"title":"Dexie.debug","slug":"Dexie/Dexie.debug","layout":"docs"},"Dexie.deepClone()":{"title":"Dexie.deepClone()","slug":"Dexie/Dexie.deepClone()","layout":"docs"},"Dexie.defineClass()":{"title":"Dexie.defineClass()","slug":"Dexie/Dexie.defineClass()","layout":"docs"},"Dexie.delByKeyPath()":{"title":"Dexie.delByKeyPath()","slug":"Dexie/Dexie.delByKeyPath()","layout":"docs"},"Dexie.delete()":{"title":"Dexie.delete()","slug":"Dexie/Dexie.delete()","layout":"docs"},"Dexie.derive()":{"title":"Dexie.derive()","slug":"Dexie/Dexie.derive()","layout":"docs"},"Dexie.events()":{"title":"Dexie.events()","slug":"Dexie/Dexie.events()","layout":"docs"},"Dexie.exists()":{"title":"Dexie.exists()","slug":"Dexie/Dexie.exists()","layout":"docs"},"Dexie.extend()":{"title":"Dexie.extend()","slug":"Dexie/Dexie.extend()","layout":"docs"},"Dexie.fakeAutoComplete()":{"title":"Dexie.fakeAutoComplete()","slug":"Dexie/Dexie.fakeAutoComplete()","layout":"docs"},"Dexie.getByKeyPath()":{"title":"Dexie.getByKeyPath()","slug":"Dexie/Dexie.getByKeyPath()","layout":"docs"},"Dexie.getDatabaseNames()":{"title":"Dexie.getDatabaseNames()","slug":"Dexie/Dexie.getDatabaseNames()","layout":"docs"},"Dexie.hasFailed()":{"title":"Dexie.hasFailed()","slug":"Dexie/Dexie.hasFailed()","layout":"docs"},"Dexie.ignoreTransaction()":{"title":"Dexie.ignoreTransaction()","slug":"Dexie/Dexie.ignoreTransaction()","layout":"docs"},"Dexie.isOpen()":{"title":"Dexie.isOpen()","slug":"Dexie/Dexie.isOpen()","layout":"docs"},"Dexie":{"title":"Dexie Constructor","slug":"Dexie/Dexie","layout":"docs"},"Dexie.name":{"title":"Dexie.name","slug":"Dexie/Dexie.name","layout":"docs"},"Dexie.on()":{"title":"Dexie.on()","slug":"Dexie/Dexie.on()","layout":"docs"},"Dexie.on.blocked":{"title":"Dexie.on.blocked","slug":"Dexie/Dexie.on.blocked","layout":"docs"},"Dexie.on.close":{"title":"Dexie.on.close","slug":"Dexie/Dexie.on.close","layout":"docs"},"Dexie.on.error":{"title":"Dexie.on.error","slug":"Dexie/Dexie.on.error","layout":"docs"},"Dexie.on.populate-(old-version)":{"title":"Dexie.on.populate-(old-version)","slug":"Dexie/Dexie.on.populate-(old-version)","layout":"docs"},"Dexie.on.populate":{"title":"Dexie.on.populate","slug":"Dexie/Dexie.on.populate","layout":"docs"},"Dexie.on.ready":{"title":"Dexie.on.ready","slug":"Dexie/Dexie.on.ready","layout":"docs"},"Dexie.on.storagemutated":{"title":"Dexie.on.storagemutated","slug":"Dexie/Dexie.on.storagemutated","layout":"docs"},"Dexie.on.versionchange":{"title":"Dexie.on.versionchange","slug":"Dexie/Dexie.on.versionchange","layout":"docs"},"Dexie.open()":{"title":"Dexie.open()","slug":"Dexie/Dexie.open()","layout":"docs"},"Dexie.override()":{"title":"Dexie.override()","slug":"Dexie/Dexie.override()","layout":"docs"},"Dexie.semVer":{"title":"Dexie.semVer","slug":"Dexie/Dexie.semVer","layout":"docs"},"Dexie.setByKeyPath()":{"title":"Dexie.setByKeyPath()","slug":"Dexie/Dexie.setByKeyPath()","layout":"docs"},"Dexie.shallowClone()":{"title":"Dexie.shallowClone()","slug":"Dexie/Dexie.shallowClone()","layout":"docs"},"Dexie.spawn()":{"title":"Dexie.spawn()","slug":"Dexie/Dexie.spawn()","layout":"docs"},"Dexie.table()":{"title":"Dexie.table()","slug":"Dexie/Dexie.table()","layout":"docs"},"Dexie.tables":{"title":"Dexie.tables","slug":"Dexie/Dexie.tables","layout":"docs"},"Dexie.transaction()-(old-version)":{"title":"Dexie.transaction()-(old-version)","slug":"Dexie/Dexie.transaction()-(old-version)","layout":"docs"},"Dexie.transaction()":{"title":"Dexie.transaction()","slug":"Dexie/Dexie.transaction()","layout":"docs"},"Dexie.use()":{"title":"Dexie.use()","slug":"Dexie/Dexie.use()","layout":"docs"},"Dexie.verno":{"title":"Dexie.verno","slug":"Dexie/Dexie.verno","layout":"docs"},"Dexie.version()":{"title":"Dexie.version()","slug":"Dexie/Dexie.version()","layout":"docs"},"Dexie.version":{"title":"Dexie.version","slug":"Dexie/Dexie.version","layout":"docs"},"Dexie.vip()":{"title":"Dexie.vip()","slug":"Dexie/Dexie.vip()","layout":"docs"},"Dexie.waitFor()":{"title":"Dexie.waitFor()","slug":"Dexie/Dexie.waitFor()","layout":"docs"}},"Dexie.js":{"title":"Dexie.js","slug":"Dexie.js","layout":"docs"},"DexieErrors":{"Dexie.AbortError":{"title":"Dexie.AbortError","slug":"DexieErrors/Dexie.AbortError","layout":"docs"},"Dexie.BulkError":{"title":"Dexie.BulkError","slug":"DexieErrors/Dexie.BulkError","layout":"docs"},"Dexie.ConstraintError":{"title":"Dexie.ConstraintError","slug":"DexieErrors/Dexie.ConstraintError","layout":"docs"},"Dexie.DataCloneError":{"title":"Dexie.DataCloneError","slug":"DexieErrors/Dexie.DataCloneError","layout":"docs"},"Dexie.DataError":{"title":"Dexie.DataError","slug":"DexieErrors/Dexie.DataError","layout":"docs"},"Dexie.DatabaseClosedError":{"title":"Dexie.DatabaseClosedError","slug":"DexieErrors/Dexie.DatabaseClosedError","layout":"docs"},"Dexie.IncompatiblePromiseError":{"title":"Dexie.IncompatiblePromiseError","slug":"DexieErrors/Dexie.IncompatiblePromiseError","layout":"docs"},"Dexie.InternalError":{"title":"Dexie.InternalError","slug":"DexieErrors/Dexie.InternalError","layout":"docs"},"Dexie.InvalidAccessError":{"title":"Dexie.InvalidAccessError","slug":"DexieErrors/Dexie.InvalidAccessError","layout":"docs"},"Dexie.InvalidArgumentError":{"title":"Dexie.InvalidArgumentError","slug":"DexieErrors/Dexie.InvalidArgumentError","layout":"docs"},"Dexie.InvalidStateError":{"title":"Dexie.InvalidStateError","slug":"DexieErrors/Dexie.InvalidStateError","layout":"docs"},"Dexie.InvalidTableError":{"title":"Dexie.InvalidTableError","slug":"DexieErrors/Dexie.InvalidTableError","layout":"docs"},"Dexie.MissingAPIError":{"title":"Dexie.MissingAPIError","slug":"DexieErrors/Dexie.MissingAPIError","layout":"docs"},"Dexie.ModifyError":{"title":"Dexie.ModifyError","slug":"DexieErrors/Dexie.ModifyError","layout":"docs"},"Dexie.NoSuchDatabaseError":{"title":"Dexie.NoSuchDatabaseErrorError","slug":"DexieErrors/Dexie.NoSuchDatabaseError","layout":"docs"},"Dexie.NotFoundError":{"title":"Dexie.NotFoundError","slug":"DexieErrors/Dexie.NotFoundError","layout":"docs"},"Dexie.OpenFailedError":{"title":"Dexie.OpenFailedError","slug":"DexieErrors/Dexie.OpenFailedError","layout":"docs"},"Dexie.PrematureCommitError":{"title":"Dexie.PrematureCommitError","slug":"DexieErrors/Dexie.PrematureCommitError","layout":"docs"},"Dexie.QuotaExceededError":{"title":"Dexie.QuotaExceededError","slug":"DexieErrors/Dexie.QuotaExceededError","layout":"docs"},"Dexie.ReadOnlyError":{"title":"Dexie.ReadOnlyError","slug":"DexieErrors/Dexie.ReadOnlyError","layout":"docs"},"Dexie.SchemaError":{"title":"Dexie.SchemaError","slug":"DexieErrors/Dexie.SchemaError","layout":"docs"},"Dexie.SubTransactionError":{"title":"Dexie.SubTransactionError","slug":"DexieErrors/Dexie.SubTransactionError","layout":"docs"},"Dexie.TimeoutError":{"title":"Dexie.TimeoutError","slug":"DexieErrors/Dexie.TimeoutError","layout":"docs"},"Dexie.TransactionInactiveError":{"title":"Dexie.TransactionInactiveError","slug":"DexieErrors/Dexie.TransactionInactiveError","layout":"docs"},"Dexie.UnknownError":{"title":"Dexie.UnknownError","slug":"DexieErrors/Dexie.UnknownError","layout":"docs"},"Dexie.UnsupportedError":{"title":"Dexie.UnsupportedError","slug":"DexieErrors/Dexie.UnsupportedError","layout":"docs"},"Dexie.UpgradeError":{"title":"Dexie.UpgradeError()","slug":"DexieErrors/Dexie.UpgradeError","layout":"docs"},"Dexie.VersionChangeError":{"title":"Dexie.VersionChangeError","slug":"DexieErrors/Dexie.VersionChangeError","layout":"docs"},"Dexie.VersionError":{"title":"Dexie.VersionError","slug":"DexieErrors/Dexie.VersionError","layout":"docs"},"DexieError":{"title":"DexieError","slug":"DexieErrors/DexieError","layout":"docs"}},"Download":{"title":"Download","slug":"Download","layout":"docs"},"EntityTable":{"title":"EntityTable","slug":"EntityTable","layout":"docs"},"ExportImport":{"dexie-export-import":{"title":"Export and Import Database","slug":"ExportImport/dexie-export-import","layout":"docs"}},"IndexSpec":{"title":"IndexSpec","slug":"IndexSpec","layout":"docs"},"Indexable-Type":{"title":"Indexable Type","slug":"Indexable-Type","layout":"docs"},"IndexedDB-on-Safari":{"title":"IndexedDB on Safari","slug":"IndexedDB-on-Safari","layout":"docs"},"MultiEntry-Index":{"title":"MultiEntry Index","slug":"MultiEntry-Index","layout":"docs"},"Observable":{"Dexie.Observable.DatabaseChange":{"title":"Dexie.Observable.DatabaseChange","slug":"Observable/Dexie.Observable.DatabaseChange","layout":"docs"},"Dexie.Observable":{"title":"Dexie.Observable","slug":"Observable/Dexie.Observable","layout":"docs"}},"Promise":{"Promise.PSD":{"title":"Promise.PSD","slug":"Promise/Promise.PSD","layout":"docs"},"Promise.catch()":{"title":"Promise.catch()","slug":"Promise/Promise.catch()","layout":"docs"},"Promise.finally()":{"title":"Promise.finally()","slug":"Promise/Promise.finally()","layout":"docs"},"Promise":{"title":"Promise","slug":"Promise/Promise","layout":"docs"},"Promise.on.error":{"title":"Promise.on.error","slug":"Promise/Promise.on.error","layout":"docs"},"Promise.onuncatched":{"title":"Promise.onuncatched","slug":"Promise/Promise.onuncatched","layout":"docs"},"unhandledrejection-event":{"title":"unhandledrejection-event","slug":"Promise/unhandledrejection-event","layout":"docs"}},"PropModification":{"add()":{"title":"Consistent add() operator","slug":"PropModification/add()","layout":"docs"},"remove()":{"title":"Consistent remove() operator","slug":"PropModification/remove()","layout":"docs"},"replacePrefix()":{"title":"Consistent replacePrefix() operator","slug":"PropModification/replacePrefix()","layout":"docs"}},"Questions-and-Answers":{"title":"Questions and Answers","slug":"Questions-and-Answers","layout":"docs"},"Releasing-Dexie":{"title":"Releasing Dexie","slug":"Releasing-Dexie","layout":"docs"},"Samples":{"title":"Samples","slug":"Samples","layout":"docs-freestyle"},"Simplify-with-yield":{"title":"Simplify with yield","slug":"Simplify-with-yield","layout":"docs"},"StorageManager":{"title":"How To Use the StorageManager API","slug":"StorageManager","layout":"docs"},"Syncable":{"Dexie.Syncable.IDatabaseChange":{"title":"Dexie.Syncable.IDatabaseChange","slug":"Syncable/Dexie.Syncable.IDatabaseChange","layout":"docs"},"Dexie.Syncable.IPersistedContext":{"title":"Dexie.Syncable.IPersistentContext","slug":"Syncable/Dexie.Syncable.IPersistedContext","layout":"docs"},"Dexie.Syncable.ISyncProtocol":{"title":"Dexie.Syncable.ISyncProtocol","slug":"Syncable/Dexie.Syncable.ISyncProtocol","layout":"docs"},"Dexie.Syncable.StatusTexts":{"title":"Dexie.Syncable.StatusTexts","slug":"Syncable/Dexie.Syncable.StatusTexts","layout":"docs"},"Dexie.Syncable.Statuses":{"title":"Dexie.Syncable.Statuses","slug":"Syncable/Dexie.Syncable.Statuses","layout":"docs"},"Dexie.Syncable.js":{"title":"Dexie.Syncable","slug":"Syncable/Dexie.Syncable.js","layout":"docs"},"Dexie.Syncable.registerSyncProtocol()":{"title":"Dexie.Syncable.registerSyncProtocol()","slug":"Syncable/Dexie.Syncable.registerSyncProtocol()","layout":"docs"},"db.syncable.connect()":{"title":"db.syncable.connect()","slug":"Syncable/db.syncable.connect()","layout":"docs"},"db.syncable.delete()":{"title":"db.syncable.delete()","slug":"Syncable/db.syncable.delete()","layout":"docs"},"db.syncable.disconnect()":{"title":"db.syncable.disconnect()","slug":"Syncable/db.syncable.disconnect()","layout":"docs"},"db.syncable.getOptions()":{"title":"db.syncable.getOptions()","slug":"Syncable/db.syncable.getOptions()","layout":"docs"},"db.syncable.getStatus()":{"title":"db.syncable.getStatus()","slug":"Syncable/db.syncable.getStatus()","layout":"docs"},"db.syncable.list()":{"title":"db.syncable.list()","slug":"Syncable/db.syncable.list()","layout":"docs"},"db.syncable.on('statusChanged')":{"title":"db.syncable.on('statusChanged')","slug":"Syncable/db.syncable.on('statusChanged')","layout":"docs"},"db.syncable.setFilter()":{"title":"db.syncable.setFilter()","slug":"Syncable/db.syncable.setFilter()","layout":"docs"}},"Table":{"Table.add()":{"title":"Table.add()","slug":"Table/Table.add()","layout":"docs"},"Table.bulkAdd()":{"title":"Table.bulkAdd()","slug":"Table/Table.bulkAdd()","layout":"docs"},"Table.bulkDelete()":{"title":"Table.bulkDelete()","slug":"Table/Table.bulkDelete()","layout":"docs"},"Table.bulkGet()":{"title":"Table.bulkGet()","slug":"Table/Table.bulkGet()","layout":"docs"},"Table.bulkPut()":{"title":"Table.bulkPut()","slug":"Table/Table.bulkPut()","layout":"docs"},"Table.bulkUpdate()":{"title":"Table.bulkUpdate()","slug":"Table/Table.bulkUpdate()","layout":"docs"},"Table.clear()":{"title":"Table.clear()","slug":"Table/Table.clear()","layout":"docs"},"Table.count()":{"title":"Table.count()","slug":"Table/Table.count()","layout":"docs"},"Table.defineClass()":{"title":"Table.defineClass()","slug":"Table/Table.defineClass()","layout":"docs"},"Table.delete()":{"title":"Table.delete()","slug":"Table/Table.delete()","layout":"docs"},"Table.each()":{"title":"Table.each()","slug":"Table/Table.each()","layout":"docs"},"Table.filter()":{"title":"Table.filter()","slug":"Table/Table.filter()","layout":"docs"},"Table.get()":{"title":"Table.get()","slug":"Table/Table.get()","layout":"docs"},"Table.hook('creating')":{"title":"Table.hook('creating')","slug":"Table/Table.hook('creating')","layout":"docs"},"Table.hook('deleting')":{"title":"Table.hook('deleting')","slug":"Table/Table.hook('deleting')","layout":"docs"},"Table.hook('reading')":{"title":"Table.hook('reading')","slug":"Table/Table.hook('reading')","layout":"docs"},"Table.hook('updating')":{"title":"Table.hook('updating')","slug":"Table/Table.hook('updating')","layout":"docs"},"Table.limit()":{"title":"Table.limit()","slug":"Table/Table.limit()","layout":"docs"},"Table.mapToClass()":{"title":"Table.mapToClass()","slug":"Table/Table.mapToClass()","layout":"docs"},"Table":{"title":"Table","slug":"Table/Table","layout":"docs"},"Table.name":{"title":"Table.name","slug":"Table/Table.name","layout":"docs"},"Table.offset()":{"title":"Table.offset()","slug":"Table/Table.offset()","layout":"docs"},"Table.orderBy()":{"title":"Table.orderBy()","slug":"Table/Table.orderBy()","layout":"docs"},"Table.put()":{"title":"Table.put()","slug":"Table/Table.put()","layout":"docs"},"Table.reverse()":{"title":"Table.reverse()","slug":"Table/Table.reverse()","layout":"docs"},"Table.schema":{"title":"Table.schema","slug":"Table/Table.schema","layout":"docs"},"Table.toArray()":{"title":"Table.toArray()","slug":"Table/Table.toArray()","layout":"docs"},"Table.toCollection()":{"title":"Table.toCollection()","slug":"Table/Table.toCollection()","layout":"docs"},"Table.update()":{"title":"Table.update()","slug":"Table/Table.update()","layout":"docs"},"Table.upsert()":{"title":"Table.upsert()","slug":"Table/Table.upsert()","layout":"docs"},"Table.where()":{"title":"Table.where()","slug":"Table/Table.where()","layout":"docs"}},"TableSchema":{"title":"Table Schema","slug":"TableSchema","layout":"docs"},"The-Main-Limitations-of-IndexedDB":{"title":"The main limitations of IndexedDB","slug":"The-Main-Limitations-of-IndexedDB","layout":"docs"},"The-Three-Main-Limitations-of-IndexedDB":{"title":"The three main limitations of IndexedDB","slug":"The-Three-Main-Limitations-of-IndexedDB","layout":"redirect"},"Transaction":{"Transaction.abort()":{"title":"Transaction.abort()","slug":"Transaction/Transaction.abort()","layout":"docs"},"Transaction":{"title":"Transaction","slug":"Transaction/Transaction","layout":"docs"},"Transaction.on.abort":{"title":"Transaction.on.abort","slug":"Transaction/Transaction.on.abort","layout":"docs"},"Transaction.on.complete":{"title":"Transaction.on.complete","slug":"Transaction/Transaction.on.complete","layout":"docs"},"Transaction.on.error":{"title":"Transaction.on.error","slug":"Transaction/Transaction.on.error","layout":"docs"},"Transaction.table()":{"title":"Transaction.table()","slug":"Transaction/Transaction.table()","layout":"docs"}},"Tutorial":{"Angular":{"title":"Get started with Dexie in Angular","slug":"Tutorial/Angular","layout":"docs"},"Best-Practices":{"title":"Best Practices","slug":"Tutorial/Best-Practices","layout":"docs"},"Building-Addons":{"title":"Building Addons","slug":"Tutorial/Building-Addons","layout":"docs"},"Consuming-dexie-as-a-module":{"title":"Consuming Dexie as a module","slug":"Tutorial/Consuming-dexie-as-a-module","layout":"docs"},"Design":{"title":"Design","slug":"Tutorial/Design","layout":"docs"},"Dexie-Cloud":{"title":"Get started with Dexie Cloud","slug":"Tutorial/Dexie-Cloud","layout":"docs-dexie-cloud"},"Getting-started":{"title":"Getting Started with Dexie.js","slug":"Tutorial/Getting-started","layout":"docs-freestyle"},"Hello-World":{"title":"Hello World","slug":"Tutorial/Hello-World","layout":"docs"},"Migrating-existing-DB-to-Dexie":{"title":"Migrating existing DB to Dexie","slug":"Tutorial/Migrating-existing-DB-to-Dexie","layout":"docs"},"React":{"title":"Get started with Dexie in React","slug":"Tutorial/React","layout":"docs"},"Svelte":{"title":"Get started with Dexie in Svelte","slug":"Tutorial/Svelte","layout":"docs"},"Understanding-the-basics":{"title":"Understanding the basics","slug":"Tutorial/Understanding-the-basics","layout":"docs"},"Vue":{"title":"Get started with Dexie in Vue","slug":"Tutorial/Vue","layout":"docs"},"index":{"title":"Tutorial","slug":"Tutorial/index","layout":"docs"}},"Typescript-old":{"title":"Typescript (old)","slug":"Typescript-old","layout":"docs"},"Typescript":{"title":"Typescript","slug":"Typescript","layout":"docs"},"Version":{"Version":{"title":"Version","slug":"Version/Version","layout":"docs"},"Version.stores()":{"title":"Version.stores()","slug":"Version/Version.stores()","layout":"docs"},"Version.upgrade()":{"title":"Version.upgrade()","slug":"Version/Version.upgrade()","layout":"docs"}},"WhereClause":{"WhereClause.above()":{"title":"WhereClause.above()","slug":"WhereClause/WhereClause.above()","layout":"docs"},"WhereClause.aboveOrEqual()":{"title":"WhereClause.aboveOrEqual()","slug":"WhereClause/WhereClause.aboveOrEqual()","layout":"docs"},"WhereClause.anyOf()":{"title":"WhereClause.anyOf()","slug":"WhereClause/WhereClause.anyOf()","layout":"docs"},"WhereClause.anyOfIgnoreCase()":{"title":"WhereClause.anyOfIgnoreCase()","slug":"WhereClause/WhereClause.anyOfIgnoreCase()","layout":"docs"},"WhereClause.below()":{"title":"WhereClause.below()","slug":"WhereClause/WhereClause.below()","layout":"docs"},"WhereClause.belowOrEqual()":{"title":"WhereClause.belowOrEqual()","slug":"WhereClause/WhereClause.belowOrEqual()","layout":"docs"},"WhereClause.between()":{"title":"WhereClause.between()","slug":"WhereClause/WhereClause.between()","layout":"docs"},"WhereClause.equals()":{"title":"WhereClause.equals()","slug":"WhereClause/WhereClause.equals()","layout":"docs"},"WhereClause.equalsIgnoreCase()":{"title":"WhereClause.equalsIgnoreCase()","slug":"WhereClause/WhereClause.equalsIgnoreCase()","layout":"docs"},"WhereClause.inAnyRange()":{"title":"WhereClause.inAnyRange()","slug":"WhereClause/WhereClause.inAnyRange()","layout":"docs"},"WhereClause":{"title":"WhereClause","slug":"WhereClause/WhereClause","layout":"docs"},"WhereClause.noneOf()":{"title":"WhereClause.noneOf()","slug":"WhereClause/WhereClause.noneOf()","layout":"docs"},"WhereClause.notEqual()":{"title":"WhereClause.notEqual()","slug":"WhereClause/WhereClause.notEqual()","layout":"docs"},"WhereClause.startsWith()":{"title":"WhereClause.startsWith()","slug":"WhereClause/WhereClause.startsWith()","layout":"docs"},"WhereClause.startsWithAnyOf()":{"title":"WhereClause.startsWithAnyOf()","slug":"WhereClause/WhereClause.startsWithAnyOf()","layout":"docs"},"WhereClause.startsWithAnyOfIgnoreCase()":{"title":"WhereClause.startsWithAnyOfIgnoreCase()","slug":"WhereClause/WhereClause.startsWithAnyOfIgnoreCase()","layout":"docs"},"WhereClause.startsWithIgnoreCase()":{"title":"WhereClause.startsWithIgnoreCase()","slug":"WhereClause/WhereClause.startsWithIgnoreCase()","layout":"docs"}},"Y.js":{"Y.js":{"title":"Y.js","slug":"Y.js/Y.js","layout":"docs"},"y-dexie":{"title":"y-dexie","slug":"Y.js/y-dexie","layout":"docs"}},"dexie-react-hooks":{"useDocument()":{"title":"useDocument()","slug":"dexie-react-hooks/useDocument()","layout":"docs"},"useLiveQuery()":{"title":"useLiveQuery()","slug":"dexie-react-hooks/useLiveQuery()","layout":"docs"},"useObservable()":{"title":"useObservable()","slug":"dexie-react-hooks/useObservable()","layout":"docs"},"usePermissions()":{"title":"usePermissions()","slug":"dexie-react-hooks/usePermissions()","layout":"docs"}},"inbound":{"title":"Inbound","slug":"inbound","layout":"docs"},"index":{"title":"Docs Home","slug":"index","layout":"docs"},"libs":{"dexie-react-hooks":{"title":"dexie-react-hooks","slug":"libs/dexie-react-hooks","layout":"docs"}},"liveQuery()":{"title":"liveQuery()","slug":"liveQuery()","layout":"docs"},"safari-issues":{"title":"safari-issues","slug":"safari-issues","layout":"$undefined"}},"currentSlug":"Dexie/Dexie.transaction()","pageTitle":"Dexie.transaction()","children":"$L1e"}]
1f:I[19646,["/_next/static/chunks/5a665d09998d4862.js","/_next/static/chunks/5dd0231c54ee754c.js","/_next/static/chunks/8f22b4bf63a49712.js","/_next/static/chunks/68e80996639386d6.js","/_next/static/chunks/ff5f09f4edae29eb.js","/_next/static/chunks/067210b58f941f94.js","/_next/static/chunks/468ad4deeea646ae.js"],"default"]
20:I[26863,["/_next/static/chunks/5a665d09998d4862.js","/_next/static/chunks/5dd0231c54ee754c.js","/_next/static/chunks/8f22b4bf63a49712.js","/_next/static/chunks/68e80996639386d6.js","/_next/static/chunks/ff5f09f4edae29eb.js","/_next/static/chunks/067210b58f941f94.js","/_next/static/chunks/468ad4deeea646ae.js"],"default"]
21:I[63876,["/_next/static/chunks/5a665d09998d4862.js","/_next/static/chunks/5dd0231c54ee754c.js","/_next/static/chunks/8f22b4bf63a49712.js","/_next/static/chunks/68e80996639386d6.js","/_next/static/chunks/ff5f09f4edae29eb.js","/_next/static/chunks/067210b58f941f94.js","/_next/static/chunks/468ad4deeea646ae.js"],"default"]
22:T685,db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span>mode<span class="token punctuation">,</span> <span class="token function">table</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token parameter">tx</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

    <span class="token comment">//</span>
    <span class="token comment">// Transaction Scope</span>
    <span class="token comment">//</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

    <span class="token comment">//</span>
    <span class="token comment">// Transaction Committed</span>
    <span class="token comment">//</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

    <span class="token comment">//</span>
    <span class="token comment">// Transaction Failed</span>
    <span class="token comment">//</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
1e:["$","$L1f",null,{"component":"article","children":[["$","$L1f",null,{"component":"header","sx":{"mb":5},"children":["$","$L20",null,{"variant":"h1","component":"h1","sx":{"mb":3},"children":"Dexie.transaction()"}]}],["$","$L1f",null,{"className":"docs-content","children":["$","$L1f",null,{"className":"mdx-content","sx":{"maxWidth":"none"},"children":[["$","$L20","mdx-1",{"variant":"h3","component":"h3","gutterBottom":true,"sx":{"mt":3},"children":"Syntax"}],"\n",["$","$1","2",{"children":["$","$L1f","mdx-2",{"sx":{"mb":3,"background":"rgba(255, 255, 255, 0.05)","borderRadius":2,"border":"1px solid rgba(255, 255, 255, 0.1)","p":3,"mt":2,"overflow":"auto"},"children":["$","div",null,{"className":"codeblock-container","style":{"position":"relative"},"children":[["$","$L21",null,{"code":"db.transaction(mode, table(s), tx => {\n\n    //\n    // Transaction Scope\n    //\n\n}).then(result => {\n\n    //\n    // Transaction Committed\n    //\n\n}).catch(error => {\n\n    //\n    // Transaction Failed\n    //\n\n});\n"}],["$","pre",null,{"className":"prism-javascript","children":["$","code",null,{"className":"prism-javascript code-highlight","dangerouslySetInnerHTML":{"__html":"$22"}}]}]]}]}]}],"\n",["$","$L20","mdx-3",{"variant":"h3","component":"h3","gutterBottom":true,"sx":{"mt":3},"children":"Parameters"}],"\n",["$","div","6",{"style":{"marginBottom":"24px","width":"fit-content","maxWidth":"100%","overflow":"auto","border":"1px solid rgba(255, 255, 255, 0.12)","borderRadius":"4px"},"children":["$","table",null,{"style":{"width":"100%","borderCollapse":"collapse"},"children":[[],["$","tbody",null,{"children":[["$","tr","0",{"style":{"borderBottom":"1px solid rgba(255, 255, 255, 0.12)"},"children":[["$","td","0",{"style":{"padding":"16px","borderBottom":"1px solid rgba(255, 255, 255, 0.12)"},"children":"mode"}],["$","td","1",{"style":{"padding":"16px","borderBottom":"1px solid rgba(255, 255, 255, 0.12)"},"children":["\n",["$","dl","mdx-4",{"children":["\n  ",["$","dt","mdx-5",{"children":"\"rw\""}],["$","dd","mdx-6",{"children":"READWRITE"}],"\n  ",["$","dt","mdx-7",{"children":"\"r\""}],["$","dd","mdx-8",{"children":"READONLY"}],"\n  ",["$","dt","mdx-9",{"children":"\"rw!\",\"rw?\",\"r!\" or \"r?\""}],["$","dd","mdx-10",{"children":["Specify how to behave when there already is an ongoing transaction. See ","$L23"]}],"\n"]}]]}]]}],"$L24","$L25","$L26"]}]]}]}],"\n","$L27","\n","$L28","\n","$L29","\n","$L2a","\n","$L2b","\n","$L2c","\n","$L2d","\n","$L2e","\n","$L2f","\n","$L30","\n","$L31","\n","$L32","\n","$L33","\n","$L34","\n","$L35","\n","$L36","\n","$L37","\n","$L38","\n","$L39","\n","$L3a","\n","$L3b","\n","$L3c","\n","$L3d","\n","$L3e","\n","$L3f","\n","$L40","\n","$L41","\n","$L42","\n","$L43","\n","$L44","\n","$L45","\n","$L46","\n","$L47","\n","$L48","\n","$L49","\n","$L4a","\n","$L4b","\n","$L4c","\n","$L4d","\n","$L4e","\n","$L4f","\n","$L50","\n","$L51","\n","$L52","\n","$L53","\n","$L54","\n","$L55","\n","$L56","\n","$L57","\n","$L58","\n","$L59","\n","$L5a","\n","$L5b","\n","$L5c","\n","$L5d","\n","$L5e","\n","$L5f","\n","$L60","\n","$L61","\n","$L62","\n","$L63","\n","$L64","\n","$L65","\n","$L66","\n","$L67","\n","$L68","\n","$L69","\n","$L6a","\n","$L6b","\n","$L6c","\n","$L6d","\n","$L6e","\n","$L6f","\n","$L70","\n","$L71","\n"]}]}],"$L72"]}]
73:I[72729,["/_next/static/chunks/5a665d09998d4862.js","/_next/static/chunks/5dd0231c54ee754c.js","/_next/static/chunks/8f22b4bf63a49712.js","/_next/static/chunks/68e80996639386d6.js","/_next/static/chunks/ff5f09f4edae29eb.js","/_next/static/chunks/067210b58f941f94.js","/_next/static/chunks/468ad4deeea646ae.js"],"default"]
23:["$","$L73","mdx-11",{"href":"#specify-reusage-of-parent-transaction","color":"primary","sx":{"fontWeight":600},"underline":"hover","children":"Specify Reusage of Parent Transaction"}]
24:["$","tr","1",{"style":{"borderBottom":"1px solid rgba(255, 255, 255, 0.12)"},"children":[["$","td","0",{"style":{"padding":"16px","borderBottom":"1px solid rgba(255, 255, 255, 0.12)"},"children":"table(s)"}],["$","td","1",{"style":{"padding":"16px","borderBottom":"1px solid rgba(255, 255, 255, 0.12)"},"children":["Table instances or table names to include in transaction. You may either provide multiple arguments after each other, or you may provide an array of tables. Each argument or array item must be either a ",["$","$L73","mdx-12",{"href":"/docs/Table/Table","color":"primary","sx":{"fontWeight":600},"underline":"hover","children":"Table"}]," instance or a string."]}]]}]
25:["$","tr","2",{"style":{"borderBottom":"1px solid rgba(255, 255, 255, 0.12)"},"children":[["$","td","0",{"style":{"padding":"16px","borderBottom":"1px solid rgba(255, 255, 255, 0.12)"},"children":"callback"}],["$","td","1",{"style":{"padding":"16px","borderBottom":"1px solid rgba(255, 255, 255, 0.12)"},"children":"Function to execute with the transaction. Note that since number of arguments may vary, the callback argument will always be the last argument provided to this method."}]]}]
26:["$","tr","3",{"style":{"borderBottom":"1px solid rgba(255, 255, 255, 0.12)"},"children":[["$","td","0",{"style":{"padding":"16px","borderBottom":"1px solid rgba(255, 255, 255, 0.12)"},"children":"tx"}],["$","td","1",{"style":{"padding":"16px","borderBottom":"1px solid rgba(255, 255, 255, 0.12)"},"children":[["$","$L73","mdx-13",{"href":"../Transaction/Transaction","color":"primary","sx":{"fontWeight":600},"underline":"hover","target":"_blank","rel":"noopener noreferrer","children":"Transaction"}]," instance"]}]]}]
27:["$","$L20","mdx-14",{"variant":"h3","component":"h3","gutterBottom":true,"sx":{"mt":3},"children":"Sample"}]
74:Td3e,db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'rw'</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">,</span> db<span class="token punctuation">.</span>pets<span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">{</span>

    <span class="token comment">//</span>
    <span class="token comment">// Transaction Scope</span>
    <span class="token comment">//</span>

    <span class="token keyword">const</span> friend <span class="token operator">=</span> <span class="token keyword">await</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"David"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">++</span>friend<span class="token punctuation">.</span>age<span class="token punctuation">;</span>
    <span class="token keyword">await</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>friend<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

    <span class="token comment">//</span>
    <span class="token comment">// Transaction Complete</span>
    <span class="token comment">//</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Transaction committed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

    <span class="token comment">//</span>
    <span class="token comment">// Transaction Failed</span>
    <span class="token comment">//</span>

    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">.</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
28:["$","$1","10",{"children":["$","$L1f","mdx-15",{"sx":{"mb":3,"background":"rgba(255, 255, 255, 0.05)","borderRadius":2,"border":"1px solid rgba(255, 255, 255, 0.1)","p":3,"mt":2,"overflow":"auto"},"children":["$","div",null,{"className":"codeblock-container","style":{"position":"relative"},"children":[["$","$L21",null,{"code":"db.transaction('rw', db.friends, db.pets, async ()=>{\n\n    //\n    // Transaction Scope\n    //\n\n    const friend = await db.friends.get({name: \"David\"});\n    ++friend.age;\n    await db.friends.put(friend);\n\n}).then(() => {\n\n    //\n    // Transaction Complete\n    //\n\n    console.log(\"Transaction committed\");\n\n}).catch(err => {\n\n    //\n    // Transaction Failed\n    //\n\n    console.error(err.stack);\n});\n"}],["$","pre",null,{"className":"prism-javascript","children":["$","code",null,{"className":"prism-javascript code-highlight","dangerouslySetInnerHTML":{"__html":"$74"}}]}]]}]}]}]
29:["$","$L20","mdx-16",{"variant":"h3","component":"h3","gutterBottom":true,"sx":{"mt":3},"children":"Return Value"}]
2a:["$","$L20","mdx-18",{"variant":"body1","component":"div","paragraph":true,"children":[["$","$L73","mdx-17",{"href":"/docs/Promise/Promise","color":"primary","sx":{"fontWeight":600},"underline":"hover","children":"Promise"}]," that will resolve when the transaction has committed. It will resolve with the return value of the callback (if any). If transaction fails or is aborted, the promise will reject."]}]
2b:["$","$L20","mdx-19",{"variant":"h3","component":"h3","gutterBottom":true,"sx":{"mt":3},"children":"Description"}]
2c:["$","$L20","mdx-20",{"variant":"body1","component":"div","paragraph":true,"children":"Start a database transaction."}]
2d:["$","$L20","mdx-22",{"variant":"body1","component":"div","paragraph":true,"children":["When accessing the database within the given scope function, any ",["$","$L73","mdx-21",{"href":"/docs/Table/Table","color":"primary","sx":{"fontWeight":600},"underline":"hover","children":"Table"}],"-based operation will execute within the current transaction."]}]
2e:["$","$L20","mdx-25",{"variant":"body1","component":"div","paragraph":true,"children":[["$","em","mdx-23",{"children":["NOTE: As of v1.4.0+, the scope function will always be executed asynchronously. In previous versions, the scope function could be executed either directly (synchronically) or asynchronously depending on whether the database was ready, or if a parent transaction was locked. See ",["$","$L73","mdx-24",{"href":"https://github.com/dexie/Dexie.js/issues/268","color":"primary","sx":{"fontWeight":600},"underline":"hover","target":"_blank","rel":"noopener noreferrer","children":"Issue #268"}]]}],"."]}]
2f:["$","$L20","mdx-26",{"variant":"h3","component":"h3","gutterBottom":true,"sx":{"mt":3},"children":"Transaction Scope"}]
30:["$","$L20","mdx-29",{"variant":"body1","component":"div","paragraph":true,"children":["The Transaction Scope is the places in your code where your transaction remains active. I'll sometimes refer to it as the Transaction ",["$","$L73","mdx-28",{"href":"/docs/Promise/Promise.PSD","color":"primary","sx":{"fontWeight":600},"underline":"hover","children":["$","em","mdx-27",{"children":"Zone"}]}],". The obvious scope is of course your callback function to the transaction() method, but the scope will also extend to every callback (such as then(), each(), toArray(), ...) originated from any database operation. Here are some samples that clarifies the scope:"]}]
75:Tfa4,db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">,</span> db<span class="token punctuation">.</span>pets<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

    <span class="token comment">// WITHIN SCOPE / ZONE!</span>

    <span class="token keyword">return</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'David'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">friend</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

        <span class="token comment">// WITHIN SCOPE / ZONE!</span>

        <span class="token keyword">return</span> db<span class="token punctuation">.</span>pets<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">master</span><span class="token operator">:</span> friend<span class="token punctuation">.</span>id<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token parameter">pet</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            
            <span class="token comment">// WITHIN SCOPE / ZONE!</span>

        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

        <span class="token comment">// NOT WITHIN ZONE! (because Dexie's zone system does not support setTimeout())</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

    <span class="token comment">// Transaction committed. NOT WITHIN ZONE!</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

    <span class="token comment">// Transaction aborted. NOT WITHIN ZONE!</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
31:["$","$1","28",{"children":["$","$L1f","mdx-30",{"sx":{"mb":3,"background":"rgba(255, 255, 255, 0.05)","borderRadius":2,"border":"1px solid rgba(255, 255, 255, 0.1)","p":3,"mt":2,"overflow":"auto"},"children":["$","div",null,{"className":"codeblock-container","style":{"position":"relative"},"children":[["$","$L21",null,{"code":"db.transaction('r', db.friends, db.pets, () => {\n\n    // WITHIN SCOPE / ZONE!\n\n    return db.friends.get({name: 'David'}).then(friend => {\n\n        // WITHIN SCOPE / ZONE!\n\n        return db.pets.where({master: friend.id}).each(pet => {\n            \n            // WITHIN SCOPE / ZONE!\n\n        });\n    });\n\n    setTimeout(() => {\n\n        // NOT WITHIN ZONE! (because Dexie's zone system does not support setTimeout())\n\n    }, 0);\n\n}).then(() => {\n\n    // Transaction committed. NOT WITHIN ZONE!\n\n}).catch(err => {\n\n    // Transaction aborted. NOT WITHIN ZONE!\n\n});\n"}],["$","pre",null,{"className":"prism-javascript","children":["$","code",null,{"className":"prism-javascript code-highlight","dangerouslySetInnerHTML":{"__html":"$75"}}]}]]}]}]}]
32:["$","$L20","mdx-31",{"variant":"body1","component":"div","paragraph":true,"children":"If you call another function, it will also be executing in the current transaction zone:"}]
76:T61e,    db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'rw'</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token function">externalFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">externalFunction</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        db<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"my friend"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// WITHIN ZONE!</span>
    <span class="token punctuation">}</span>
33:["$","$1","32",{"children":["$","$L1f","mdx-32",{"sx":{"mb":3,"background":"rgba(255, 255, 255, 0.05)","borderRadius":2,"border":"1px solid rgba(255, 255, 255, 0.1)","p":3,"mt":2,"overflow":"auto"},"children":["$","div",null,{"className":"codeblock-container","style":{"position":"relative"},"children":[["$","$L21",null,{"code":"    db.transaction('rw', db.friends, () => {\n        externalFunction();\n    });\n\n    function externalFunction () {\n        db.friends.add({name: \"my friend\"}); // WITHIN ZONE!\n    }\n"}],["$","pre",null,{"className":"prism-javascript","children":["$","code",null,{"className":"prism-javascript code-highlight","dangerouslySetInnerHTML":{"__html":"$76"}}]}]]}]}]}]
34:["$","$L20","mdx-35",{"variant":"body1","component":"div","paragraph":true,"children":[["$","em","mdx-33",{"children":["$","strong","mdx-34",{"children":"BUT"}]}]," be aware that zone is lost if using non-indexedDB compatible Promises:"]}]
77:Te34,<span class="token keyword">let</span> Bluebird <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'bluebird'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'rw'</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>cars<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">//</span>
    <span class="token comment">// Transaction block</span>
    <span class="token comment">//</span>
    <span class="token keyword">return</span> db<span class="token punctuation">.</span>cars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token comment">// Avoid returning other kinds of promises here:</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Bluebird</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token comment">// You'll be outside the zone here, unless you use Dexie.Promise or window.Promise.</span>
        <span class="token keyword">return</span> db<span class="token punctuation">.</span>cars<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Transaction will fail with 'PrematureCommitError' (as of Dexie 2.0.0)</span>
35:["$","$1","36",{"children":["$","$L1f","mdx-36",{"sx":{"mb":3,"background":"rgba(255, 255, 255, 0.05)","borderRadius":2,"border":"1px solid rgba(255, 255, 255, 0.1)","p":3,"mt":2,"overflow":"auto"},"children":["$","div",null,{"className":"codeblock-container","style":{"position":"relative"},"children":[["$","$L21",null,{"code":"let Bluebird = require('bluebird');\ndb.transaction('rw', db.cars, () => {\n    //\n    // Transaction block\n    //\n    return db.cars.put({id: 3}).then (() => {\n        // Avoid returning other kinds of promises here:\n        return new Bluebird((resolve, reject) => {\n            resolve();\n        });\n    }).then(() => {\n        // You'll be outside the zone here, unless you use Dexie.Promise or window.Promise.\n        return db.cars.get(3);\n    });\n}); // Transaction will fail with 'PrematureCommitError' (as of Dexie 2.0.0)\n"}],["$","pre",null,{"className":"prism-javascript","children":["$","code",null,{"className":"prism-javascript code-highlight","dangerouslySetInnerHTML":{"__html":"$77"}}]}]]}]}]}]
36:["$","$L20","mdx-37",{"variant":"body1","component":"div","paragraph":true,"children":"so make sure to only use the global Promise (window.Promise), or Dexie.Promise within a transaction zone."}]
37:["$","$L20","mdx-38",{"variant":"h3","component":"h3","gutterBottom":true,"sx":{"mt":3},"children":"The Auto-Commit Behavior of IndexedDB Transactions"}]
38:["$","$L20","mdx-40",{"variant":"body1","component":"div","paragraph":true,"children":["IndexedDB will commit a transaction as soon as it isn't used within a tick. This means that you MUST NOT call any other async API (at least not wait for it to finish) within a transaction scope. If you do, you will get a TransactionInactiveError thrown at you. To avoid this, you may use ",["$","$L73","mdx-39",{"href":"https://dexie.org/docs/Dexie/Dexie.waitFor()","color":"primary","sx":{"fontWeight":600},"underline":"hover","target":"_blank","rel":"noopener noreferrer","children":"Dexie.waitFor()"}],", but use it with caution."]}]
39:["$","$L20","mdx-41",{"variant":"h3","component":"h3","gutterBottom":true,"sx":{"mt":3},"children":"Accessing Transaction Object"}]
3a:["$","$L20","mdx-45",{"variant":"body1","component":"div","paragraph":true,"children":["As long as you are within the transaction zone, the ",["$","$L73","mdx-42",{"href":"/docs/Transaction/Transaction","color":"primary","sx":{"fontWeight":600},"underline":"hover","children":"Transaction"}]," object is returned using the ",["$","$L73","mdx-43",{"href":"/docs/Dexie/Dexie.currentTransaction","color":"primary","sx":{"fontWeight":600},"underline":"hover","children":"Dexie.currentTransaction"}]," ",["$","$L73","mdx-44",{"href":"/docs/Promise/Promise.PSD","color":"primary","sx":{"fontWeight":600},"underline":"hover","children":"Promise-static"}]," property."]}]
3b:["$","$L20","mdx-46",{"variant":"h3","component":"h3","gutterBottom":true,"sx":{"mt":3},"children":"Nested Transactions"}]
3c:["$","$L20","mdx-47",{"variant":"body1","component":"div","paragraph":true,"children":"Dexie supports nested transactions. A nested transaction must be in a compatible mode as its main transaction and all tables included in the nested transaction must also be included in its main transaction. Otherwise it will return a rejected promise and abort the parent transaction."}]
78:T8c0,db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'rw'</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">,</span> db<span class="token punctuation">.</span>pets<span class="token punctuation">,</span> db<span class="token punctuation">.</span>cars<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

    <span class="token comment">// MAIN TRANSACTION ZONE</span>

    db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'rw'</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">,</span> db<span class="token punctuation">.</span>cars<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

        <span class="token comment">// SUB TRANSACTION ZONE</span>

        db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

            <span class="token comment">// SUB- of SUB-TRANSACTION ZONE</span>

        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
3d:["$","$1","52",{"children":["$","$L1f","mdx-48",{"sx":{"mb":3,"background":"rgba(255, 255, 255, 0.05)","borderRadius":2,"border":"1px solid rgba(255, 255, 255, 0.1)","p":3,"mt":2,"overflow":"auto"},"children":["$","div",null,{"className":"codeblock-container","style":{"position":"relative"},"children":[["$","$L21",null,{"code":"db.transaction('rw', db.friends, db.pets, db.cars, () => {\n\n    // MAIN TRANSACTION ZONE\n\n    db.transaction('rw', db.friends, db.cars, () => {\n\n        // SUB TRANSACTION ZONE\n\n        db.transaction('r', db.friends, () => {\n\n            // SUB- of SUB-TRANSACTION ZONE\n\n        });\n    });\n});\n"}],["$","pre",null,{"className":"prism-javascript","children":["$","code",null,{"className":"prism-javascript code-highlight","dangerouslySetInnerHTML":{"__html":"$78"}}]}]]}]}]}]
3e:["$","$L20","mdx-49",{"variant":"h4","component":"h4","gutterBottom":true,"sx":{"mt":3},"children":"Limitations with Nested Transactions"}]
3f:["$","$L20","mdx-50",{"variant":"body1","component":"div","paragraph":true,"children":"Rollback support in nested transactions rely on the rollback support of the parent transaction; If a nested transaction fails, parent transaction will also fail. Normally, this is just fine and exactly what you would want to happen. But just  don't expect to prohibit parent from failing by catching the nested transaction. See sample:"}]
79:Tfcc,
<span class="token comment">// Topmost transaction:</span>
db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'rw'</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

    <span class="token comment">// Sub transaction:</span>
    db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'rw'</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

        db<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
                <span class="token comment">// This catch() would successfully prohibit abort from happening.</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token operator">...</span>

        db<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// will reject...</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span> <span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token comment">// Catching sub-transaction promise.</span>
        <span class="token comment">// This will NOT prohibit parent transaction from aborting.</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// Transaction Failed!</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
40:["$","$1","58",{"children":["$","$L1f","mdx-51",{"sx":{"mb":3,"background":"rgba(255, 255, 255, 0.05)","borderRadius":2,"border":"1px solid rgba(255, 255, 255, 0.1)","p":3,"mt":2,"overflow":"auto"},"children":["$","div",null,{"className":"codeblock-container","style":{"position":"relative"},"children":[["$","$L21",null,{"code":"\n// Topmost transaction:\ndb.transaction('rw', db.friends, () => {\n\n    // Sub transaction:\n    db.transaction('rw', db.friends, () => {\n\n        db.friends.add({id: 1})\n            .catch(err => {\n                // This catch() would successfully prohibit abort from happening.\n            });\n\n        ...\n\n        db.friends.add({id: 1}); // will reject...\n\n    }).catch (err => {\n        // Catching sub-transaction promise.\n        // This will NOT prohibit parent transaction from aborting.\n    });\n\n}).then(() => {\n\n}).catch(err => {\n    // Transaction Failed!\n});\n"}],["$","pre",null,{"className":"prism-javascript","children":["$","code",null,{"className":"prism-javascript code-highlight","dangerouslySetInnerHTML":{"__html":"$79"}}]}]]}]}]}]
41:["$","$L20","mdx-52",{"variant":"h4","component":"h4","gutterBottom":true,"sx":{"mt":3},"children":"The Beauty of Nested Transactions"}]
42:["$","$L20","mdx-53",{"variant":"body1","component":"div","paragraph":true,"children":"If you write a library function that does some DB operations within a transaction and then need to reuse that function from a higher level library function, combining it with other tasks, you may gain atomicity for the entire operation. Without nested transactions, you would have to split the operations into several transactions, resulting in the risk of losing data integrity."}]
43:["$","h5","mdx-54",{"children":"Sample"}]
7a:T1060,<span class="token comment">// Lower-level function</span>
<span class="token keyword">function</span> <span class="token function">birthday</span><span class="token punctuation">(</span><span class="token parameter">friendName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'rw'</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> friend <span class="token operator">=</span> <span class="token keyword">await</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> friendName<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">++</span>friend<span class="token punctuation">.</span>age<span class="token punctuation">;</span>
        <span class="token keyword">await</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>friend<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Higher-level function</span>
<span class="token keyword">function</span> <span class="token function">birthdays</span><span class="token punctuation">(</span><span class="token parameter">today</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'rw'</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">await</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">birthdate</span><span class="token operator">:</span> today<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">friend</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">birthday</span><span class="token punctuation">(</span>friend<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
44:["$","$1","66",{"children":["$","$L1f","mdx-55",{"sx":{"mb":3,"background":"rgba(255, 255, 255, 0.05)","borderRadius":2,"border":"1px solid rgba(255, 255, 255, 0.1)","p":3,"mt":2,"overflow":"auto"},"children":["$","div",null,{"className":"codeblock-container","style":{"position":"relative"},"children":[["$","$L21",null,{"code":"// Lower-level function\nfunction birthday(friendName) {\n    return db.transaction('rw', db.friends, async () => {\n        const friend = await db.friends.get({name: friendName});\n        ++friend.age;\n        await db.friends.put(friend);\n    });\n}\n\n// Higher-level function\nfunction birthdays(today) {\n    return db.transaction('rw', db.friends, async () => {\n        await db.friends.where({birthdate: today}).each(function (friend) {\n            birthday(friend.name);\n        });\n    });\n}\n"}],["$","pre",null,{"className":"prism-javascript","children":["$","code",null,{"className":"prism-javascript code-highlight","dangerouslySetInnerHTML":{"__html":"$7a"}}]}]]}]}]}]
45:["$","$L20","mdx-58",{"variant":"body1","component":"div","paragraph":true,"children":["$","em","mdx-56",{"children":["Note: The above samples can be done easier using ",["$","$L73","mdx-57",{"href":"/docs/Collection/Collection.modify()","color":"primary","sx":{"fontWeight":600},"underline":"hover","children":"Collection.modify()"}],", but the above sample shows the goodie with nested transactions. If you really wanted to do the above code simpler, you would do"]}]}]
7b:T481,<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">birthday</span> <span class="token punctuation">(</span><span class="token parameter">friendName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> friendName<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">modify</span><span class="token punctuation">(</span><span class="token parameter">friend</span> <span class="token operator">=></span> <span class="token operator">++</span>friend<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
46:["$","$1","70",{"children":["$","$L1f","mdx-59",{"sx":{"mb":3,"background":"rgba(255, 255, 255, 0.05)","borderRadius":2,"border":"1px solid rgba(255, 255, 255, 0.1)","p":3,"mt":2,"overflow":"auto"},"children":["$","div",null,{"className":"codeblock-container","style":{"position":"relative"},"children":[["$","$L21",null,{"code":"async function birthday (friendName) {\n    await db.friends.where({name: friendName}).modify(friend => ++friend.age);\n}\n"}],["$","pre",null,{"className":"prism-javascript","children":["$","code",null,{"className":"prism-javascript code-highlight","dangerouslySetInnerHTML":{"__html":"$7b"}}]}]]}]}]}]
47:["$","$L20","mdx-61",{"variant":"body1","component":"div","paragraph":true,"children":["$","em","mdx-60",{"children":"...but that wouldn't visualize the beauty of nested transactions..."}]}]
48:["$","$L20","mdx-62",{"variant":"h3","component":"h3","gutterBottom":true,"sx":{"mt":3},"children":"Creating Code With Reusable Transaction"}]
49:["$","$L20","mdx-64",{"variant":"body1","component":"div","paragraph":true,"children":["Let's assume you have a javascript class Car with the method ",["$","$L1f","mdx-63",{"component":"code","sx":{"fontFamily":"monospace","fontSize":"0.875rem","backgroundColor":"rgba(255, 255, 255, 0.1)","px":1,"py":0.5,"borderRadius":1},"children":"save()"}],"."]}]
7c:T564,<span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">brand<span class="token punctuation">,</span> carModel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>brand <span class="token operator">=</span> brand<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>model <span class="token operator">=</span> carModel<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> db<span class="token punctuation">.</span>cars<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

4a:["$","$1","78",{"children":["$","$L1f","mdx-65",{"sx":{"mb":3,"background":"rgba(255, 255, 255, 0.05)","borderRadius":2,"border":"1px solid rgba(255, 255, 255, 0.1)","p":3,"mt":2,"overflow":"auto"},"children":["$","div",null,{"className":"codeblock-container","style":{"position":"relative"},"children":[["$","$L21",null,{"code":"class Car {\n    constructor (brand, carModel) {\n        this.brand = brand;\n        this.model = carModel;\n    }\n\n    save() {\n        return db.cars.put(this);\n    }\n}\n\n"}],["$","pre",null,{"className":"prism-javascript","children":["$","code",null,{"className":"prism-javascript code-highlight","dangerouslySetInnerHTML":{"__html":"$7c"}}]}]]}]}]}]
4b:["$","$L20","mdx-66",{"variant":"body1","component":"div","paragraph":true,"children":"In a transaction-less code block you could then do:"}]
4c:["$","$1","82",{"children":["$","$L1f","mdx-67",{"sx":{"mb":3,"background":"rgba(255, 255, 255, 0.05)","borderRadius":2,"border":"1px solid rgba(255, 255, 255, 0.1)","p":3,"mt":2,"overflow":"auto"},"children":["$","div",null,{"className":"codeblock-container","style":{"position":"relative"},"children":[["$","$L21",null,{"code":"var car = new Car (\"Pegeut\", \"Van Range\");\ncar.save();\n"}],["$","pre",null,{"className":"prism-javascript","children":["$","code",null,{"className":"prism-javascript code-highlight","dangerouslySetInnerHTML":{"__html":"<span class=\"token keyword\">var</span> car <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Car</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"Pegeut\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Van Range\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ncar<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n"}}]}]]}]}]}]
4d:["$","$L20","mdx-68",{"variant":"body1","component":"div","paragraph":true,"children":"If you call save() from within a transaction block:"}]
7d:T566,db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'rw'</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">,</span> db<span class="token punctuation">.</span>pets<span class="token punctuation">,</span> db<span class="token punctuation">.</span>cars<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span> <span class="token punctuation">(</span><span class="token string">"Pegeut"</span><span class="token punctuation">,</span> <span class="token string">"Van Range"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    car<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
4e:["$","$1","86",{"children":["$","$L1f","mdx-69",{"sx":{"mb":3,"background":"rgba(255, 255, 255, 0.05)","borderRadius":2,"border":"1px solid rgba(255, 255, 255, 0.1)","p":3,"mt":2,"overflow":"auto"},"children":["$","div",null,{"className":"codeblock-container","style":{"position":"relative"},"children":[["$","$L21",null,{"code":"db.transaction('rw', db.friends, db.pets, db.cars, function () {\n    var car = new Car (\"Pegeut\", \"Van Range\");\n    car.save();\n});\n"}],["$","pre",null,{"className":"prism-javascript","children":["$","code",null,{"className":"prism-javascript code-highlight","dangerouslySetInnerHTML":{"__html":"$7d"}}]}]]}]}]}]
4f:["$","$L20","mdx-70",{"variant":"body1","component":"div","paragraph":true,"children":"... then the save method will run the put() operation within your transaction scope. It is quite convenient not having to pass transaction instances around your code - that would easily bloat up the code and make it less reusable. It also makes it easier to switch from non-transactional to transactional code."}]
50:["$","$L20","mdx-71",{"variant":"body1","component":"div","paragraph":true,"children":"When you write your transaction scope, you must make sure to include all tables that will be needed by the functions you are calling. If you forget to include a table required by a function, the operation will fail and so will the transaction."}]
7e:T6c1,db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'rw'</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span> <span class="token punctuation">(</span><span class="token string">"Pegeut"</span><span class="token punctuation">,</span> <span class="token string">"Van Range"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    car<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Will fail with Error ("Table cars not included in parent transaction")</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
51:["$","$1","92",{"children":["$","$L1f","mdx-72",{"sx":{"mb":3,"background":"rgba(255, 255, 255, 0.05)","borderRadius":2,"border":"1px solid rgba(255, 255, 255, 0.1)","p":3,"mt":2,"overflow":"auto"},"children":["$","div",null,{"className":"codeblock-container","style":{"position":"relative"},"children":[["$","$L21",null,{"code":"db.transaction('rw', db.friends, function() {\n    var car = new Car (\"Pegeut\", \"Van Range\");\n    car.save(); \n}).catch (function (err) {\n    // Will fail with Error (\"Table cars not included in parent transaction\")\n});\n"}],["$","pre",null,{"className":"prism-javascript","children":["$","code",null,{"className":"prism-javascript code-highlight","dangerouslySetInnerHTML":{"__html":"$7e"}}]}]]}]}]}]
52:["$","$L20","mdx-73",{"variant":"h3","component":"h3","gutterBottom":true,"sx":{"mt":3},"children":"Specify Reusage of Parent Transaction"}]
53:["$","$L20","mdx-74",{"variant":"body1","component":"div","paragraph":true,"children":"When entering a nested transaction block, Dexie will first check that it is compatible with the currently ongoing transaction (\"parent transaction\"). All store names from nested must be present in parent and if nested is \"rw\" (READWRITE), the parent must also be that."}]
54:["$","$L20","mdx-75",{"variant":"body1","component":"div","paragraph":true,"children":"The default behavior is to fail with rejection of the transaction promises (both main and nested) if the two are incompatible."}]
55:["$","$L20","mdx-77",{"variant":"body1","component":"div","paragraph":true,"children":["If your code must be independent on any ongoing transaction, you can override this by adding \"!\" or \"?\" to the ",["$","$L1f","mdx-76",{"component":"code","sx":{"fontFamily":"monospace","fontSize":"0.875rem","backgroundColor":"rgba(255, 255, 255, 0.1)","px":1,"py":0.5,"borderRadius":1},"children":"mode"}]," argument."]}]
7f:T5b0,db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">"rw!"</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>Table<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// Require top-level transaction (ignore ongoing transaction)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">"rw?"</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>Table<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token comment">// Use nested transaction only if compatible with ongoing, otherwise</span>
    <span class="token comment">// launch a top-level transaction for this scope</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
56:["$","$1","102",{"children":["$","$L1f","mdx-78",{"sx":{"mb":3,"background":"rgba(255, 255, 255, 0.05)","borderRadius":2,"border":"1px solid rgba(255, 255, 255, 0.1)","p":3,"mt":2,"overflow":"auto"},"children":["$","div",null,{"className":"codeblock-container","style":{"position":"relative"},"children":[["$","$L21",null,{"code":"db.transaction(\"rw!\", db.Table, () => {\n    // Require top-level transaction (ignore ongoing transaction)\n});\n\ndb.transaction(\"rw?\", db.Table, () => {\n    // Use nested transaction only if compatible with ongoing, otherwise\n    // launch a top-level transaction for this scope\n});\n"}],["$","pre",null,{"className":"prism-javascript","children":["$","code",null,{"className":"prism-javascript code-highlight","dangerouslySetInnerHTML":{"__html":"$7f"}}]}]]}]}]}]
57:["$","dl","mdx-79",{"children":["\n  ",["$","dt","mdx-80",{"children":"!"}],["$","dd","mdx-81",{"children":"Force Top-level Transaction. This will make your code independent on any ongoing transaction and instead always spawn a new transaction at top-level scope."}],"\n  ",["$","dt","mdx-82",{"children":"?"}],["$","dd","mdx-83",{"children":"Reuse parent transaction only if they are compatible, otherwise launch a top-level transaction."}],"\n"]}]
58:["$","$L20","mdx-84",{"variant":"body1","component":"div","paragraph":true,"children":"The \"!\" postfix should typically be used on a high-level API where the callers are totally unaware of how you are storing your data."}]
59:["$","$L20","mdx-85",{"variant":"body1","component":"div","paragraph":true,"children":"The \"?\" postfix can be used when your API could be used both internally or externally and you want to take advantage of transaction reusage whenever it is possible."}]
5a:["$","$L20","mdx-86",{"variant":"h3","component":"h3","gutterBottom":true,"sx":{"mt":3},"children":"Sample Using The \"!\" Postfix"}]
5b:["$","$L20","mdx-87",{"variant":"body1","component":"div","paragraph":true,"children":"Assume you have an external \"Logger\" component that is independent on anything else except db and the \"logentries\" table. Users of the Logger component should not have to worry about how it is implemented or whether a specific table or mode must be used in an ongoing transaction. In those kind of scenarios it is recommended to use a transaction block with the \"!\" postfix as the following sample shows."}]
80:T1541,<span class="token comment">//</span>
<span class="token comment">// "logger.js":</span>
<span class="token comment">//</span>
<span class="token keyword">function</span> <span class="token function">Logger</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">log</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// Use the "!" postfix to ensure we work with our own transaction and never</span>
          <span class="token comment">// reuse any ongoing transaction.</span>
    <span class="token keyword">return</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'rw!'</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>logentries<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      db<span class="token punctuation">.</span>logentries<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">message</span><span class="token operator">:</span> message<span class="token punctuation">,</span> <span class="token literal-property property">date</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//</span>
<span class="token comment">// Application code:</span>
<span class="token comment">//</span>
<span class="token keyword">var</span> logger <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Logger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'rw'</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  logger<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Now adding hillary..."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"Hillary"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    logger<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Hillary was added"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  logger<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Transaction successfully committed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
5c:["$","$1","114",{"children":["$","$L1f","mdx-88",{"sx":{"mb":3,"background":"rgba(255, 255, 255, 0.05)","borderRadius":2,"border":"1px solid rgba(255, 255, 255, 0.1)","p":3,"mt":2,"overflow":"auto"},"children":["$","div",null,{"className":"codeblock-container","style":{"position":"relative"},"children":[["$","$L21",null,{"code":"//\n// \"logger.js\":\n//\nfunction Logger() {\n  this.log = function (message) {\n          // Use the \"!\" postfix to ensure we work with our own transaction and never\n          // reuse any ongoing transaction.\n    return db.transaction('rw!', db.logentries, function () {\n      db.logentries.add({message: message, date: new Date()});\n    });\n  }\n}\n\n//\n// Application code:\n//\nvar logger = new Logger();\n\ndb.transaction('rw', db.friends, function () {\n  logger.log(\"Now adding hillary...\");\n  return db.friends.add({name: \"Hillary\"}).then(function() {\n    logger.log(\"Hillary was added\");\n  });\n}).then(function() {\n  logger.log(\"Transaction successfully committed\");\n});\n"}],["$","pre",null,{"className":"prism-javascript","children":["$","code",null,{"className":"prism-javascript code-highlight","dangerouslySetInnerHTML":{"__html":"$80"}}]}]]}]}]}]
5d:["$","$L20","mdx-89",{"variant":"body1","component":"div","paragraph":true,"children":"Since the logger component must work independently of whether a transaction is active or not, the logger component must be using the \"!\" postfix. Otherwise it would fail whenever called from within a transaction scope that did not include the \"logentries\" table."}]
5e:["$","$L20","mdx-90",{"variant":"body1","component":"div","paragraph":true,"children":"Note: This is just a theoretical sample to explain the \"!\" postfix. In a real world scenario, I would rather recommend to have a dedicated Dexie instance (dedicated db) for logging purpose rather than having it as a table within your app code. In that case you wouldn't have to use the \"!\" postfix because only you logging component would know about the db and there would never be ongoing transactions for that db."}]
5f:["$","$L20","mdx-91",{"variant":"h3","component":"h3","gutterBottom":true,"sx":{"mt":3},"children":"Implementation Details of Nested Transactions"}]
60:["$","$L20","mdx-92",{"variant":"body1","component":"div","paragraph":true,"children":"Nested transactions has no out-of-the-box support in IndexedDB. Dexie emulates it by reusing the parent IDBTransaction within a new Dexie Transaction object with reference count of ongoing requests. The nested transaction will also block any operations made on parent transaction until nested transaction \"commits\". The nested transaction will \"commit\" when there are no more ongoing requests on it (exactly as IDB works for main transactions). The \"commit\" of a nested transaction only means that the transaction Promise will resolve and any pending operations on the main transaction can resume. An error occurring in the parent transaction after a \"commit\" will still abort the entire transaction including the nested transaction."}]
61:["$","$L20","mdx-93",{"variant":"h3","component":"h3","gutterBottom":true,"sx":{"mt":3},"children":"Parallel Transactions"}]
62:["$","$L20","mdx-97",{"variant":"body1","component":"div","paragraph":true,"children":["At a glance, it could seem like you could only be able to run one transaction at a time. However, that is not the case. ",["$","$L73","mdx-94",{"href":"/docs/Dexie/Dexie.currentTransaction","color":"primary","sx":{"fontWeight":600},"underline":"hover","children":"Dexie.currentTransaction"}]," is a ",["$","$L73","mdx-95",{"href":"/docs/Promise/Promise.PSD","color":"primary","sx":{"fontWeight":600},"underline":"hover","children":"Promise-Local"}]," static property (similar to how Thread-local storage works in threaded environments) that makes sure to always return the ",["$","$L73","mdx-96",{"href":"/docs/Transaction/Transaction","color":"primary","sx":{"fontWeight":600},"underline":"hover","children":"Transaction"}]," instance that is bound to the transaction scope that initiated the operation."]}]
63:["$","$L20","mdx-98",{"variant":"h4","component":"h4","gutterBottom":true,"sx":{"mt":3},"children":"Spawning a parallel operation"}]
64:["$","$L20","mdx-100",{"variant":"body1","component":"div","paragraph":true,"children":["Once you have entered a transaction, any database operation done in the transaction will reuse the same transaction. If you want to explicitly spawn another top-level transaction from within your current scope, you could either add the \"!\" postfix to the mode, or use encapsulate the database operation with ",["$","$L73","mdx-99",{"href":"/docs/Dexie/Dexie.ignoreTransaction()","color":"primary","sx":{"fontWeight":600},"underline":"hover","children":"Dexie.ignoreTransaction()"}],"."]}]
81:Tb9f,db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'rw'</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Use Dexie.ignoreTransaction() to launch a parallel</span>
    <span class="token comment">// transaction from within your current transaction.</span>
    db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'r!'</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>pets<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// This transaction will run in parallel because using the "!" postfix.</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Spawn a transaction-less operation outside our transaction:</span>
    Dexie<span class="token punctuation">.</span><span class="token function">ignoreTransaction</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Will launch in parallel due to Dexie.ignoreTransaction()</span>
        db<span class="token punctuation">.</span>pets<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
65:["$","$1","132",{"children":["$","$L1f","mdx-101",{"sx":{"mb":3,"background":"rgba(255, 255, 255, 0.05)","borderRadius":2,"border":"1px solid rgba(255, 255, 255, 0.1)","p":3,"mt":2,"overflow":"auto"},"children":["$","div",null,{"className":"codeblock-container","style":{"position":"relative"},"children":[["$","$L21",null,{"code":"db.transaction('rw', db.friends, function () {\n    // Use Dexie.ignoreTransaction() to launch a parallel\n    // transaction from within your current transaction.\n    db.transaction('r!', db.pets, function() {\n        // This transaction will run in parallel because using the \"!\" postfix.\n    }).catch(...);\n\n    // Spawn a transaction-less operation outside our transaction:\n    Dexie.ignoreTransaction(function () {\n        // Will launch in parallel due to Dexie.ignoreTransaction()\n        db.pets.toArray(function (){}).catch(...);\n    });\n});\n"}],["$","pre",null,{"className":"prism-javascript","children":["$","code",null,{"className":"prism-javascript code-highlight","dangerouslySetInnerHTML":{"__html":"$81"}}]}]]}]}]}]
66:["$","$L20","mdx-102",{"variant":"h3","component":"h3","gutterBottom":true,"sx":{"mt":3},"children":"Parallel Operations Within Same Transaction"}]
67:["$","$L20","mdx-103",{"variant":"body1","component":"div","paragraph":true,"children":"Database operations are launched in parallel by default unless you wait for the previous operation to finish."}]
68:["$","$L20","mdx-104",{"variant":"body1","component":"div","paragraph":true,"children":"Sample:"}]
82:Td9c,<span class="token keyword">function</span> <span class="token function">logCarModels</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>cars<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        db<span class="token punctuation">.</span>cars
          <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'brand'</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">'Volvo'</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">car</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Volvo "</span> <span class="token operator">+</span> car<span class="token punctuation">.</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
        db<span class="token punctuation">.</span>cars
          <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'brand'</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">'Peugeot'</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">car</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Peugeot "</span> <span class="token operator">+</span> car<span class="token punctuation">.</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
69:["$","$1","140",{"children":["$","$L1f","mdx-105",{"sx":{"mb":3,"background":"rgba(255, 255, 255, 0.05)","borderRadius":2,"border":"1px solid rgba(255, 255, 255, 0.1)","p":3,"mt":2,"overflow":"auto"},"children":["$","div",null,{"className":"codeblock-container","style":{"position":"relative"},"children":[["$","$L21",null,{"code":"function logCarModels() {\n    return db.transaction('r', db.cars, function() {\n        db.cars\n          .where('brand')\n          .equals('Volvo')\n          .each(function (car) {\n            console.log(\"Volvo \" + car.model);\n        });\n    \n        db.cars\n          .where('brand')\n          .equals('Peugeot')\n          .each(function (car) {\n            console.log(\"Peugeot \" + car.model);\n        });\n    });\n}\n"}],["$","pre",null,{"className":"prism-javascript","children":["$","code",null,{"className":"prism-javascript code-highlight","dangerouslySetInnerHTML":{"__html":"$82"}}]}]]}]}]}]
6a:["$","$L20","mdx-106",{"variant":"body1","component":"div","paragraph":true,"children":"The above operations will run in parallel even though they run withing the same transaction. So you will get a mixture of Volvos and Peugeots scrambled around in your console log."}]
6b:["$","$L20","mdx-107",{"variant":"body1","component":"div","paragraph":true,"children":"To make sure that stuff happens in a sequence, you would have to write something like the following:"}]
83:Tf71,<span class="token comment">// 1. Log Volvos</span>
db<span class="token punctuation">.</span>cars
  <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'brand'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">'Volvo'</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">car</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Volvo "</span> <span class="token operator">+</span> car<span class="token punctuation">.</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 2. Log Pegeuts</span>
      <span class="token keyword">return</span> db<span class="token punctuation">.</span>cars
        <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string">'brand'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">'Peugeot'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">car</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Peugeot "</span> <span class="token operator">+</span> car<span class="token punctuation">.</span>model<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// 3. Do something more...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token operator">...</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
6c:["$","$1","146",{"children":["$","$L1f","mdx-108",{"sx":{"mb":3,"background":"rgba(255, 255, 255, 0.05)","borderRadius":2,"border":"1px solid rgba(255, 255, 255, 0.1)","p":3,"mt":2,"overflow":"auto"},"children":["$","div",null,{"className":"codeblock-container","style":{"position":"relative"},"children":[["$","$L21",null,{"code":"// 1. Log Volvos\ndb.cars\n  .where('brand')\n  .equals('Volvo')\n  .each(function (car) {\n      console.log(\"Volvo \" + car.model);\n  }).then (function() {\n      // 2. Log Pegeuts\n      return db.cars\n        .where('brand')\n        .equals('Peugeot')\n        .each(function (car) {\n            console.log(\"Peugeot \" + car.model);\n        });\n  }).then (function (){\n      // 3. Do something more...\n  }).catch (function (e) {\n      ...\n  });\n"}],["$","pre",null,{"className":"prism-javascript","children":["$","code",null,{"className":"prism-javascript code-highlight","dangerouslySetInnerHTML":{"__html":"$83"}}]}]]}]}]}]
6d:["$","$L20","mdx-109",{"variant":"body1","component":"div","paragraph":true,"children":"The example above shows how to run your queries in a sequence and wait for each one to finish."}]
6e:["$","$L20","mdx-110",{"variant":"h3","component":"h3","gutterBottom":true,"sx":{"mt":3},"children":"Async and Await"}]
6f:["$","$L20","mdx-111",{"variant":"body1","component":"div","paragraph":true,"children":"You can use async await without any quirks. It works perfectly well with both native async functions (tested in Edge, Chrome, Safari and Firefox) as well as transpiled async await (Typescript - any version, Babel - any version). For transpiled async await, the end code will survive indexedDB transactions no matter browser (including Internet Explorer). However, when using native async await, the browser will invoke native promises instead of Dexie.Promise. This would break transactions in older browsers. Dexie can maintain its zones (holding current transaction) between native await expressions as well as between transpiled await expressions."}]
84:T81d,<span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token string">'rw'</span><span class="token punctuation">,</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> friendId <span class="token operator">=</span> <span class="token keyword">await</span> db<span class="token punctuation">.</span>friends<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"New Friend"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> petId <span class="token operator">=</span> <span class="token keyword">await</span> db<span class="token punctuation">.</span>pets<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"New Pet"</span><span class="token punctuation">,</span> <span class="token literal-property property">kind</span><span class="token operator">:</span> <span class="token string">"snake"</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
70:["$","$1","154",{"children":["$","$L1f","mdx-112",{"sx":{"mb":3,"background":"rgba(255, 255, 255, 0.05)","borderRadius":2,"border":"1px solid rgba(255, 255, 255, 0.1)","p":3,"mt":2,"overflow":"auto"},"children":["$","div",null,{"className":"codeblock-container","style":{"position":"relative"},"children":[["$","$L21",null,{"code":"await db.transaction('rw', db.friends, async () => {\n    let friendId = await db.friends.add({name: \"New Friend\"});\n    let petId = await db.pets.add({name: \"New Pet\", kind: \"snake\"});\n    //...\n});\n"}],["$","pre",null,{"className":"prism-javascript","children":["$","code",null,{"className":"prism-javascript code-highlight","dangerouslySetInnerHTML":{"__html":"$84"}}]}]]}]}]}]
71:["$","$L20","mdx-113",{"variant":"body1","component":"div","paragraph":true,"children":"The above code works with Dexie v2.0.0 in Typescript or babel with ES2016 preset. Also works in natively in Chrome, Edge, Safari, Opera and Firefox."}]
72:["$","$L1f",null,{"component":"footer","sx":{"mt":5,"pt":4,"borderTop":1,"borderColor":"divider","display":"flex","justifyContent":"space-between","flexWrap":"wrap","gap":2},"children":[["$","$L20",null,{"variant":"caption","color":"text.secondary","children":"Dexie/Dexie.transaction()"}],["$","$L20",null,{"variant":"caption","color":"text.secondary","children":["Last updated: ","10/20/2025"]}]]}]
19:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
15:null
85:I[27201,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/7dd66bdf8a7e5707.js"],"IconMark"]
17:{"metadata":[["$","title","0",{"children":"Dexie.transaction() | Dexie.js Documentation - Offline-First Database | Dexie.js - Offline-First Database for JavaScript"}],["$","meta","1",{"name":"description","content":"Dexie.js transactions for safe database operations. Learn atomic operations, error handling, and best practices for IndexedDB."}],["$","meta","2",{"name":"author","content":"David Fahlander"}],["$","meta","3",{"name":"author","content":"Dexie.js Team"}],["$","meta","4",{"name":"keywords","content":"dexie.js,indexeddb,offline first,javascript database,browser database,database transactions,atomic operations,data consistency"}],["$","meta","5",{"name":"creator","content":"David Fahlander"}],["$","meta","6",{"name":"publisher","content":"Dexie.js"}],["$","meta","7",{"name":"robots","content":"index, follow"}],["$","meta","8",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","meta","9",{"name":"category","content":"technology"}],["$","meta","10",{"name":"article:section","content":"Documentation"}],["$","meta","11",{"name":"article:tag","content":"dexie.js, indexeddb, offline first, javascript database, browser database, database transactions, atomic operations, data consistency"}],["$","link","12",{"rel":"canonical","href":"https://dexie.org/docs/Dexie/Dexie.transaction()"}],["$","meta","13",{"property":"og:title","content":"Dexie.transaction() - Dexie.js Documentation"}],["$","meta","14",{"property":"og:description","content":"Dexie.js transactions for safe database operations. Learn atomic operations, error handling, and best practices for IndexedDB."}],["$","meta","15",{"property":"og:url","content":"https://dexie.org/docs/Dexie/Dexie.transaction()"}],["$","meta","16",{"property":"og:image","content":"https://dexie.org/assets/images/dexie-docs-og.jpg"}],["$","meta","17",{"property":"og:image:width","content":"1200"}],["$","meta","18",{"property":"og:image:height","content":"630"}],["$","meta","19",{"property":"og:image:alt","content":"Dexie.transaction() - Dexie.js Documentation"}],["$","meta","20",{"property":"og:type","content":"article"}],["$","meta","21",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","22",{"name":"twitter:title","content":"Dexie.transaction() - Dexie.js Docs"}],["$","meta","23",{"name":"twitter:description","content":"Dexie.js transactions for safe database operations. Learn atomic operations, error handling, and best practices for IndexedDB."}],["$","meta","24",{"name":"twitter:image","content":"https://dexie.org/assets/images/dexie-docs-og.jpg"}],["$","link","25",{"rel":"icon","href":"/favicon.ico?favicon.c269e170.ico","sizes":"48x48","type":"image/x-icon"}],["$","$L85","26",{}]],"error":null,"digest":"$undefined"}
1c:"$17:metadata"
